!function(a,b){"function"==typeof define&&define.amd?define([],function(){return a.returnExportsGlobal=b()}):"object"==typeof exports?module.exports=b():a.Walker=b()}(this,function(){var a,b,c,d;return a=function(a){return"[object Array]"===Object.prototype.toString.call(a)},b=function(a){return a===Object(a)},c=function(a){return"undefined"==typeof a},d=function(){var d=a,e=b,f=c,g=function(a){a=a||{},this.seperator=a.seperator||".",this.location=a.location||""};return g.prototype.each=function(a,b,c){var f=c||this.location;for(var g in a){var h=a[g],i=this._location(f,g);b(i,h),(e(h)||d(h))&&this.each(h,b,i)}},g.prototype.bubble=function(a,b,c){var d,e=[];this._eachPart(a,b,function(a,b){f(a)||(d=this._location(d,b),e.unshift({location:d,val:a}))});for(var g=0,h=e.length;h>g;g++)c(e[g].location,e[g].val)},g.prototype.search=function(a,b,c){var d;return this._eachPart(a,b,function(a,b,e){return f(a)&&!c?d=a:void(d={key:b,val:a,parent:e})}),d},g.prototype._eachPart=function(a,b,c){for(var d=b.split(this.seperator),e=0,g=d.length;g>e;e++){var h=d[e],i=a[h];if(!f(c.call(this,i,h,a)))return;a=a[h]=f(i)?{}:i}},g.prototype._location=function(a,b){return a=a||this.location,a?a+this.seperator+b:b},g}({})});